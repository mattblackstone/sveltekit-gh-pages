import{S as ta,i as aa,s as ia,k as l,a as _,N as p,q as Se,K as ra,l as o,m as i,h as a,c as E,O as m,r as Ne,J as na,n as e,G as t,b as qt,L as sa,H as Et,o as la,M as oa}from"../chunks/index.a3f7c049.js";import{b as da}from"../chunks/paths.7c3e458d.js";const{document:Ut}=oa;function va($){let h,J,k,c,r,g,f,n,s,ne,u,v,y,R,b,C,B,D,T,K,V,w,S,Z,N,le,W,Q,d,I,z,G,_e,L,x,X,ee,Ae,he,oe,Y,fe,q,pe,M,te,De,de,ve,U,H,ae,j,ie,P,re,O,se,Ye,Ee,Re,ye,tt,Ve,ce,F,Le,ze,Ge,at,Xe,it,Ze,rt,qe,nt,xe,He,st,Ue,lt,be,ue,je,ot,dt,Me,vt,ct,Ce,ut,ht,Te,Pe,Fe,ft,$e,pt,yt;return{c(){h=l("script"),k=_(),c=l("main"),r=l("div"),g=l("div"),f=l("div"),n=p("svg"),s=p("path"),ne=_(),u=l("div"),v=p("svg"),y=p("g"),R=p("circle"),b=p("circle"),C=p("path"),B=p("path"),D=p("circle"),T=p("circle"),K=_(),V=l("div"),w=p("svg"),S=p("path"),Z=_(),N=l("div"),le=l("div"),W=_(),Q=l("div"),d=l("div"),I=p("svg"),z=p("path"),G=Se(`
    TOTAL ELEVATION GAIN`),_e=_(),L=l("div"),x=l("div"),X=p("svg"),ee=p("path"),Ae=Se(`
    HILLIEST DAY`),he=_(),oe=l("div"),Y=l("div"),fe=l("div"),q=l("div"),pe=l("div"),M=p("svg"),te=p("style"),De=Se(`.st0 {
                  fill: #fc5200;
                }

                .st1 {
                  fill: #ffffff;
                }

                .st2 {
                  fill: #dfdfe8;
                }

                .st3 {
                  fill: #a4a4a4;
                }

                .st4 {
                  fill: #6d6d78;
                }`),de=p("path"),ve=p("path"),U=p("path"),H=p("path"),ae=p("path"),j=p("path"),ie=_(),P=l("div"),re=l("h1"),O=l("span"),se=l("span"),Ye=_(),Ee=l("h2"),Re=_(),ye=l("h4"),tt=_(),Ve=l("div"),ce=l("div"),F=l("div"),Le=l("h1"),ze=l("span"),Ge=l("span"),at=_(),Xe=l("h2"),it=_(),Ze=l("h4"),rt=_(),qe=l("h5"),nt=_(),xe=l("div"),He=p("svg"),st=_(),Ue=l("div"),lt=_(),be=l("div"),ue=l("div"),je=l("h3"),ot=Se("Allow gyroscope access?"),dt=_(),Me=l("button"),vt=Se("Allow"),ct=_(),Ce=l("button"),ut=Se("Deny"),ht=_(),Te=l("a"),Pe=l("div"),Fe=l("div"),ft=_(),$e=l("pre"),this.h()},l(me){const Je=ra("svelte-1sto1mh",Ut.head);h=o(Je,"SCRIPT",{src:!0});var $t=i(h);$t.forEach(a),Je.forEach(a),k=E(me),c=o(me,"MAIN",{});var A=i(c);r=o(A,"DIV",{id:!0});var Ke=i(r);g=o(Ke,"DIV",{id:!0});var Oe=i(g);f=o(Oe,"DIV",{id:!0,class:!0});var Lt=i(f);n=m(Lt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var xt=i(n);s=m(xt,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),i(s).forEach(a),xt.forEach(a),Lt.forEach(a),ne=E(Oe),u=o(Oe,"DIV",{id:!0,class:!0});var bt=i(u);v=m(bt,"svg",{height:!0,viewBox:!0,width:!0,xmlns:!0});var Mt=i(v);y=m(Mt,"g",{fill:!0,stroke:!0});var Ie=i(y);R=m(Ie,"circle",{cx:!0,cy:!0,r:!0}),i(R).forEach(a),b=m(Ie,"circle",{cx:!0,cy:!0,r:!0}),i(b).forEach(a),C=m(Ie,"path",{d:!0,transform:!0}),i(C).forEach(a),B=m(Ie,"path",{d:!0,transform:!0}),i(B).forEach(a),D=m(Ie,"circle",{cx:!0,cy:!0,r:!0}),i(D).forEach(a),T=m(Ie,"circle",{cx:!0,cy:!0,r:!0}),i(T).forEach(a),Ie.forEach(a),Mt.forEach(a),bt.forEach(a),K=E(Oe),V=o(Oe,"DIV",{id:!0,class:!0});var Ct=i(V);w=m(Ct,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var Tt=i(w);S=m(Tt,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),i(S).forEach(a),Tt.forEach(a),Ct.forEach(a),Oe.forEach(a),Z=E(Ke),N=o(Ke,"DIV",{id:!0});var It=i(N);le=o(It,"DIV",{id:!0}),i(le).forEach(a),It.forEach(a),Ke.forEach(a),W=E(A),Q=o(A,"DIV",{id:!0});var mt=i(Q);d=o(mt,"DIV",{class:!0});var At=i(d);I=m(At,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var Dt=i(I);z=m(Dt,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),i(z).forEach(a),Dt.forEach(a),At.forEach(a),G=Ne(mt,`
    TOTAL ELEVATION GAIN`),mt.forEach(a),_e=E(A),L=o(A,"DIV",{id:!0});var gt=i(L);x=o(gt,"DIV",{class:!0});var Vt=i(x);X=m(Vt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var Ht=i(X);ee=m(Ht,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),i(ee).forEach(a),Ht.forEach(a),Vt.forEach(a),Ae=Ne(gt,`
    HILLIEST DAY`),gt.forEach(a),he=E(A),oe=o(A,"DIV",{id:!0,class:!0});var Pt=i(oe);Y=o(Pt,"DIV",{id:!0});var We=i(Y);fe=o(We,"DIV",{id:!0});var Ot=i(fe);q=o(Ot,"DIV",{id:!0,class:!0});var Qe=i(q);pe=o(Qe,"DIV",{class:!0});var kt=i(pe);M=m(kt,"svg",{id:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var ge=i(M);te=m(ge,"style",{type:!0});var Bt=i(te);De=Ne(Bt,`.st0 {
                  fill: #fc5200;
                }

                .st1 {
                  fill: #ffffff;
                }

                .st2 {
                  fill: #dfdfe8;
                }

                .st3 {
                  fill: #a4a4a4;
                }

                .st4 {
                  fill: #6d6d78;
                }`),Bt.forEach(a),de=m(ge,"path",{class:!0,d:!0}),i(de).forEach(a),ve=m(ge,"path",{class:!0,d:!0}),i(ve).forEach(a),U=m(ge,"path",{class:!0,d:!0}),i(U).forEach(a),H=m(ge,"path",{class:!0,d:!0}),i(H).forEach(a),ae=m(ge,"path",{class:!0,d:!0}),i(ae).forEach(a),j=m(ge,"path",{class:!0,d:!0}),i(j).forEach(a),ge.forEach(a),kt.forEach(a),ie=E(Qe),P=o(Qe,"DIV",{class:!0});var ke=i(P);re=o(ke,"H1",{id:!0});var wt=i(re);O=o(wt,"SPAN",{id:!0}),i(O).forEach(a),se=o(wt,"SPAN",{id:!0}),i(se).forEach(a),wt.forEach(a),Ye=E(ke),Ee=o(ke,"H2",{id:!0});var Jt=i(Ee);Jt.forEach(a),Re=E(ke),ye=o(ke,"H4",{id:!0});var Kt=i(ye);Kt.forEach(a),ke.forEach(a),Qe.forEach(a),Ot.forEach(a),tt=E(We),Ve=o(We,"DIV",{id:!0});var St=i(Ve);ce=o(St,"DIV",{id:!0,class:!0});var et=i(ce);F=o(et,"DIV",{class:!0});var we=i(F);Le=o(we,"H1",{id:!0});var _t=i(Le);ze=o(_t,"SPAN",{id:!0}),i(ze).forEach(a),Ge=o(_t,"SPAN",{id:!0}),i(Ge).forEach(a),_t.forEach(a),at=E(we),Xe=o(we,"H2",{id:!0});var Wt=i(Xe);Wt.forEach(a),it=E(we),Ze=o(we,"H4",{id:!0});var Qt=i(Ze);Qt.forEach(a),rt=E(we),qe=o(we,"H5",{id:!0});var ea=i(qe);ea.forEach(a),we.forEach(a),nt=E(et),xe=o(et,"DIV",{id:!0,class:!0});var Nt=i(xe);He=m(Nt,"svg",{id:!0,xmlns:!0}),i(He).forEach(a),Nt.forEach(a),et.forEach(a),St.forEach(a),We.forEach(a),Pt.forEach(a),st=E(A),Ue=o(A,"DIV",{id:!0}),i(Ue).forEach(a),lt=E(A),be=o(A,"DIV",{id:!0,class:!0});var Yt=i(be);ue=o(Yt,"DIV",{});var Be=i(ue);je=o(Be,"H3",{});var Rt=i(je);ot=Ne(Rt,"Allow gyroscope access?"),Rt.forEach(a),dt=E(Be),Me=o(Be,"BUTTON",{id:!0,class:!0});var zt=i(Me);vt=Ne(zt,"Allow"),zt.forEach(a),ct=E(Be),Ce=o(Be,"BUTTON",{id:!0,class:!0});var Gt=i(Ce);ut=Ne(Gt,"Deny"),Gt.forEach(a),Be.forEach(a),Yt.forEach(a),ht=E(A),Te=o(A,"A",{href:!0,onclick:!0});var Xt=i(Te);Pe=o(Xt,"DIV",{class:!0});var Zt=i(Pe);Fe=o(Zt,"DIV",{class:!0}),i(Fe).forEach(a),Zt.forEach(a),Xt.forEach(a),ft=E(A),$e=o(A,"PRE",{id:!0}),i($e).forEach(a),A.forEach(a),this.h()},h(){h.async=!0,na(h.src,J="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js")||e(h,"src",J),e(s,"fill-rule","evenodd"),e(s,"clip-rule","evenodd"),e(s,"d","M3 5H21V6H3V5ZM3 11H21V12H3V11ZM21 17H3V18H21V17Z"),e(s,"fill","#FC5200"),e(n,"width","24"),e(n,"height","24"),e(n,"viewBox","0 0 24 24"),e(n,"fill","none"),e(n,"xmlns","http://www.w3.org/2000/svg"),e(f,"id","nav_menu"),e(f,"class","nav-icon"),e(R,"cx","12.5"),e(R,"cy","12.5"),e(R,"r","12"),e(b,"cx","12.5"),e(b,"cy","12.5"),e(b,"r","1"),e(C,"d","m306.5 83.5c2.209 0 4 4.477 4 10s-1.791 10-4 10-4-4.477-4-10 1.791-10 4-10z"),e(C,"transform","translate(-294 -81)"),e(B,"d","m306.5 89.5c5.523 0 10 1.791 10 4s-4.477 4-10 4-10-1.791-10-4 4.477-4 10-4z"),e(B,"transform","translate(-294 -81)"),e(D,"cx","23"),e(D,"cy","2"),e(D,"r","1.5"),e(T,"cx","2"),e(T,"cy","23"),e(T,"r","1.5"),e(y,"fill","none"),e(y,"stroke","#000"),e(v,"height","25"),e(v,"viewBox","0 0 25 25"),e(v,"width","25"),e(v,"xmlns","http://www.w3.org/2000/svg"),e(u,"id","nav_gyro"),e(u,"class","nav-icon none"),e(S,"fill-rule","evenodd"),e(S,"clip-rule","evenodd"),e(S,"d","M18 15.9998C17.0802 16.0058 16.2141 16.4333 15.65 17.1598L7.82997 12.9998C8.05729 12.3834 8.05729 11.7061 7.82997 11.0898L15.65 6.87977C16.5589 8.02514 18.1612 8.34839 19.4431 7.64501C20.725 6.94164 21.313 5.41655 20.8352 4.03462C20.3575 2.6527 18.953 1.81653 17.5104 2.05513C16.0678 2.29373 15.0074 3.5376 15 4.99977C14.9995 5.34034 15.057 5.67851 15.17 5.99977L7.34997 10.1598C6.56508 9.14461 5.22144 8.74106 4.0071 9.15576C2.79276 9.57045 1.97662 10.7116 1.97662 11.9948C1.97662 13.278 2.79276 14.4191 4.0071 14.8338C5.22144 15.2485 6.56508 14.8449 7.34997 13.8298L15.17 17.9998C15.057 18.321 14.9995 18.6592 15 18.9998C15 20.6566 16.3431 21.9998 18 21.9998C19.6568 21.9998 21 20.6566 21 18.9998C21 17.3429 19.6568 15.9998 18 15.9998ZM18 2.99977C19.1045 2.99977 20 3.8952 20 4.99977C20 6.10434 19.1045 6.99977 18 6.99977C16.8954 6.99977 16 6.10434 16 4.99977C16 3.8952 16.8954 2.99977 18 2.99977ZM4.99997 13.9998C3.8954 13.9998 2.99997 13.1043 2.99997 11.9998C2.99997 10.8952 3.8954 9.99977 4.99997 9.99977C6.10454 9.99977 6.99997 10.8952 6.99997 11.9998C6.99997 13.1043 6.10454 13.9998 4.99997 13.9998ZM18 20.9998C16.8954 20.9998 16 20.1043 16 18.9998C16 17.8952 16.8954 16.9998 18 16.9998C19.1045 16.9998 20 17.8952 20 18.9998C20 20.1043 19.1045 20.9998 18 20.9998Z"),e(S,"fill","#6D6D78"),e(w,"width","24"),e(w,"height","24"),e(w,"viewBox","0 0 24 24"),e(w,"fill","none"),e(w,"xmlns","http://www.w3.org/2000/svg"),e(V,"id","nav_share"),e(V,"class","nav-icon"),e(g,"id","header"),e(le,"id","progress_mark"),e(N,"id","progress"),e(r,"id","nav"),e(z,"fill-rule","evenodd"),e(z,"clip-rule","evenodd"),e(z,"d","M1.48599 0.248081C1.61787 0.24996 1.74367 0.303874 1.83599 0.398081L7.98598 6.53808L14.136 0.398082C14.2628 0.271253 14.4477 0.22172 14.6209 0.268143C14.7942 0.314566 14.9295 0.449891 14.9759 0.623143C15.0223 0.796395 14.9728 0.981253 14.846 1.10808L8.34598 7.60808C8.2521 7.70274 8.1243 7.75598 7.99098 7.75598C7.85767 7.75598 7.72987 7.70274 7.63598 7.60808L1.13599 1.10808C0.995926 0.965231 0.954498 0.752645 1.03067 0.567657C1.10684 0.382668 1.28595 0.260891 1.48599 0.258081L1.48599 0.248081Z"),e(z,"fill","#494950"),e(I,"width","15"),e(I,"height","8"),e(I,"viewBox","0 0 15 8"),e(I,"fill","none"),e(I,"xmlns","http://www.w3.org/2000/svg"),e(d,"class","arrow"),e(Q,"id","toggle_a"),e(ee,"fill-rule","evenodd"),e(ee,"clip-rule","evenodd"),e(ee,"d","M14.5 8.50009C14.3681 8.49821 14.2423 8.44429 14.15 8.35009L7.99998 2.21009L1.84998 8.35009C1.72315 8.47692 1.53829 8.52645 1.36504 8.48003C1.19179 8.4336 1.05646 8.29828 1.01004 8.12503C0.963615 7.95177 1.01315 7.76692 1.13998 7.64009L7.63998 1.14009C7.73386 1.04543 7.86166 0.992188 7.99498 0.992188C8.1283 0.992188 8.25609 1.04543 8.34998 1.14009L14.85 7.64009C14.99 7.78294 15.0315 7.99552 14.9553 8.18051C14.8791 8.3655 14.7 8.48728 14.5 8.49009V8.50009Z"),e(ee,"fill","white"),e(X,"width","15"),e(X,"height","9"),e(X,"viewBox","0 0 15 9"),e(X,"fill","none"),e(X,"xmlns","http://www.w3.org/2000/svg"),e(x,"class","arrow"),e(L,"id","toggle_b"),e(te,"type","text/css"),e(de,"class","st0"),e(de,"d","M189.6,33.2l-12.5,7.2V26L189.6,33.2z"),e(ve,"class","st1"),e(ve,"d","M106,137.4v25.1l25.9,30.5l37.1-3l37,14.5l37.8-20.3L177.1,40.4L157,52.2l-20.1,52.1L106,137.4z"),e(U,"class","st2"),e(U,"d","M106,137.4v25.1l25.9,30.5l10.2-55.7l14.9-85l-20.2,52.1L106,137.4z"),e(H,"class","st3"),e(H,"d","M53,245L0,310h385L244,184.2l-54.2-46.9L157,176.5l-14.8-39.1L106,162.5l-37.1,26.9L53,245z"),e(ae,"class","st4"),e(ae,"d","M53,245l-13.1,51.5l74.2-51.5l22.6-30.7l5.4-77L106,162.5l-37.1,26.9L53,245z"),e(j,"class","st4"),e(j,"d","M53,244.9L0,310h187.4l-73.3-65.1l-35.3-32.8L53,244.9z"),e(M,"id","mountain"),e(M,"xmlns","http://www.w3.org/2000/svg"),e(M,"width","385"),e(M,"height","310"),e(M,"viewBox","0 0 385 310"),e(pe,"class","visual-a"),e(O,"id","elevation_text_a"),e(se,"id","elevation_units_a"),e(re,"id","number_a"),e(Ee,"id","head_a"),e(ye,"id","subhead_a"),e(P,"class","bottom-half"),e(q,"id","content_a"),e(q,"class","container"),e(fe,"id","mask_a"),e(ze,"id","elevation_text"),e(Ge,"id","elevation_units"),e(Le,"id","number"),e(Xe,"id","head"),e(Ze,"id","subhead"),e(qe,"id","date"),e(F,"class","text-over top-half"),e(He,"id","elevation_profile"),e(He,"xmlns","http://www.w3.org/2000/svg"),e(xe,"id","visual"),e(xe,"class","bottom-half"),e(ce,"id","content_b"),e(ce,"class","container"),e(Ve,"id","mask_b"),e(Y,"id","parallax"),e(oe,"id","main_content"),e(oe,"class","invisible"),e(Ue,"id","main_area"),e(Me,"id","allow"),e(Me,"class","btn-permission"),e(Ce,"id","deny"),e(Ce,"class","btn-permission"),e(be,"id","permission"),e(be,"class","none"),e(Fe,"class","sprite-svg arw-left"),e(Pe,"class","btn-prev"),e(Te,"href",da+"/strava/total-time"),e(Te,"onclick","location.href=this.href+window.location.hash;return false;"),e($e,"id","test")},m(me,Je){t(Ut.head,h),qt(me,k,Je),qt(me,c,Je),t(c,r),t(r,g),t(g,f),t(f,n),t(n,s),t(g,ne),t(g,u),t(u,v),t(v,y),t(y,R),t(y,b),t(y,C),t(y,B),t(y,D),t(y,T),t(g,K),t(g,V),t(V,w),t(w,S),t(r,Z),t(r,N),t(N,le),t(c,W),t(c,Q),t(Q,d),t(d,I),t(I,z),t(Q,G),t(c,_e),t(c,L),t(L,x),t(x,X),t(X,ee),t(L,Ae),t(c,he),t(c,oe),t(oe,Y),t(Y,fe),t(fe,q),t(q,pe),t(pe,M),t(M,te),t(te,De),t(M,de),t(M,ve),t(M,U),t(M,H),t(M,ae),t(M,j),t(q,ie),t(q,P),t(P,re),t(re,O),t(re,se),t(P,Ye),t(P,Ee),t(P,Re),t(P,ye),t(Y,tt),t(Y,Ve),t(Ve,ce),t(ce,F),t(F,Le),t(Le,ze),t(Le,Ge),t(F,at),t(F,Xe),t(F,it),t(F,Ze),t(F,rt),t(F,qe),t(ce,nt),t(ce,xe),t(xe,He),t(c,st),t(c,Ue),t(c,lt),t(c,be),t(be,ue),t(ue,je),t(je,ot),t(ue,dt),t(ue,Me),t(Me,vt),t(ue,ct),t(ue,Ce),t(Ce,ut),t(c,ht),t(c,Te),t(Te,Pe),t(Pe,Fe),t(c,ft),t(c,$e),pt||(yt=sa(h,"load",$[0].init),pt=!0)},p:Et,i:Et,o:Et,d(me){a(h),me&&a(k),me&&a(c),pt=!1,yt()}}}function jt($){$===void 0&&($=document);for(var h=$.getElementsByTagName("*"),J={},k=h.length;k--;)if(h[k].id){var c=h[k].id.replace(/-|:|\./g,"_");J[c]=h[k]}return J}function Ft($,h){h===void 0&&(h=3);for(var J=typeof $=="string"?$:Math.round($).toString(),k=Math.ceil(J.length/h)-1,c=[],r=0,g=J.length%h||h,f=0;f<=k;f+=1)c.push(J.substring(r,g)),r=g,g+=h;return c.join(",")}function ca($){var h=function(r,g,f){g===void 0&&(g=1),f===void 0&&(f=[]);var n=[].concat(r);if(g<=0)return f;for(;n.length;)f.push(n.splice(0,g));return f},J={init:function(){var r={x:10,y:10,type:null,ratioX:.5,ratioY:.5},g=new CustomEvent("pointerupdate",{detail:{pointer:r}}),f={get gamma(){return this.g},set gamma(d){this.g||(this.g=d)},get beta(){return this.b},set beta(d){this.b||(this.b=d)}},n=jt(),s=n.main_area.getBoundingClientRect(),ne=s.width/s.height,u=ne>1?"landscape":"portrait",v=!0,y=null,R=!0,b=0,C=0;window.console.log(s);function B(d,I,z){var G=s.height*.5,_e=d-s.left,L=I-(s.top+G),x=L/G;(x<-.1||x>.1)&&(L*=.9+Math.abs(x)),L<-G&&(L=-G,R=!1),L>G&&(L=G,R=!1),R&&Math.abs(L)<40&&(L=0),r.x=_e,r.y=L+G,r.type=z,r.ratioX=r.x/s.width,r.ratioY=r.y/s.height,window.dispatchEvent(g)}function D(d){f.gamma=d.gamma,b+=d.gamma-f.gamma,b>s.width&&(b=s.width),b<s.left&&(b=s.left),f.beta=d.beta,C+=d.beta-f.beta,C>s.height+s.top&&(C=s.height+s.top),C<s.top&&(C=s.top),B(b,C,"gyro")}function T(){f.g=null,f.b=null,b=r.x||s.width/2,C=r.y+s.top||s.height/2+s.top,window.addEventListener("deviceorientation",D,!1)}function K(d){d.preventDefault(),B(d.pageX,d.pageY,"mouse")}function V(d){d.preventDefault(),B(d.changedTouches[0].pageX,d.changedTouches[0].pageY,"touch")}function w(d){v&&window.removeEventListener("deviceorientation",D,!1),V(d),n.main_area.addEventListener("touchmove",V,!1)}function S(){v&&T(),n.main_area.removeEventListener("touchmove",V,!1)}var Z;function N(d){B(s.width*.5+s.left,s.height*.5+s.top),n.main_content.classList.remove("invisible"),!/gyro/i.test(window.location.hash)&&y===null&&window.location.protocol==="https:"&&typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function"?(n.allow.addEventListener("click",function(){DeviceOrientationEvent.requestPermission().then(function(I){n.test.innerHTML=I,window.location.hash="gyro",y=!0,TweenMax.to(n.test,1.5,{delay:.5,autoAlpha:0}),v=!0,d()}),n.permission.classList.add("none")}),n.deny.addEventListener("click",function(){window.location.hash="nogyro",y=!1,n.permission.classList.add("none"),v=!1,d()}),n.permission.classList.remove("none")):(window.location.hash==="#gyro"&&(v=!0,n.test.innerHTML="gyro on"),window.location.hash==="#nogyro"&&(v=!1,n.nav_gyro.classList.add("disabled"),n.test.innerHTML="gyro off"),TweenMax.to(n.test,1.5,{delay:.5,autoAlpha:0}),d())}function le(){v=!v,v?(T(),n.nav_gyro.classList.remove("disabled")):(window.removeEventListener("deviceorientation",D,!1),n.nav_gyro.classList.add("disabled"))}function W(){n.nav_gyro.addEventListener("click",le),n.nav_gyro.classList.remove("none"),window.removeEventListener("deviceorientation",W)}function Q(){Z||(n.toggle_a.addEventListener("click",function(){window.console.log("toggle_a click")}),n.toggle_b.addEventListener("click",function(){window.console.log("toggle_b click")}),window.addEventListener("deviceorientation",W,!1),n.main_area.addEventListener("mousemove",K,!1),n.main_area.addEventListener("touchstart",w,!1),n.main_area.addEventListener("touchend",S,!1),n.main_area.addEventListener("touchcancel",S,!1),v&&T(),window.addEventListener("resize",function(){s=n.main_area.getBoundingClientRect(),ne=s.width/s.height,u=ne>1?"landscape":"portrait",n.test.innerHTML=u,TweenMax.fromTo(n.test,1.5,{autoAlpha:1},{delay:.5,autoAlpha:0})}),Z=!0)}N(Q)}},k={init:function(){var r=jt(),g=["athlete-01","athlete-02","athlete-03","athlete-04","athlete-05","athlete-06","athlete-07"],f=Math.floor(Math.random()*g.length),n="/data/strava/"+g[f]+".json",s=new XMLHttpRequest,ne={units:0},u=new TimelineMax({paused:!0}),v=new TimelineMax({paused:!0}),y="en",R=8848,b={elevationA:{en:{head:"Movin’ up in the world.",subhead:"That’s like climbing [X] Mt.Everests."},es:"",de:""},elevationB:{en:{head:"RIP your quads.",subhead:"[X] [units] during [title]"},es:"",de:""}},C={units:0},B=0,D,T,K,V=0,w,S;function Z(){r.elevation_text_a.innerHTML=Ft(ne.units),r.elevation_text.innerHTML=Ft(C.units)}window.addEventListener("pointerupdate",function(N){w=N.detail.pointer,TweenMax.set("#mask_b",{y:w.y}),TweenMax.set("#content_b",{y:-w.y}),w.type&&(w.ratioY>.5&&(u.seek(u.totalDuration()*(w.ratioY-.5)/.5),Z(),v.seek(0)),w.ratioY===.5&&(u.seek(0),Z(),v.seek(0)),w.ratioY<.5&&(v.seek(v.totalDuration()*(1-w.ratioY*2)),Z(),u.seek(0)))}),J.init(),s.open("GET",n),s.responseType="json",s.send(),s.onload=function(){S=s.response;var N=S,le=N.athleteInfo,W=N.hilliestActivity,Q=N.totalElevationGainMeters;V=Q,B=W.elevGainMeters;var d=le.measurementPreference,I=d==="feet"?" ft":" m",z=d==="feet"?3.28084:1,G=B*z,_e=V*z;r.elevation_units_a.innerHTML=I,r.head_a.innerHTML=b.elevationA[y].head,r.subhead_a.innerHTML=b.elevationA[y].subhead.replace(/\[x\]/i,(V/R).toFixed(1)),r.elevation_units.innerHTML=I,r.head.innerHTML=b.elevationB[y].head,r.subhead.innerHTML=W.title,r.date.innerHTML=W.date.split(" ")[0];var L=r.mountain.getElementsByTagNameNS("http://www.w3.org/2000/svg","path"),x=7;u.from(L,x,{scaleY:.75,transformOrigin:"0% 125%",ease:Power3.easeOut}),u.from(".st0",x/2,{y:140,ease:Back.easeOut},x/2),u.from(".st1",x,{y:74,ease:Power3.easeOut},0),u.from(".st2",x,{y:77,ease:Power3.easeOut},0),u.from(".st3",x,{y:30,ease:Power3.easeOut},0),u.from(".st4",x,{y:34,ease:Power3.easeOut},0),u.from(L[0],.5,{scaleX:.1,ease:Power3.easeIn},x*.9),u.from(r.elevation_text_a,.1,{opacity:0},0),u.to(ne,x,{units:_e,ease:Power3.easeInOut,onUpdate:Z},0),u.from(r.elevation_units_a,.1,{opacity:0}),u.staggerFrom([r.head_a,r.subhead_a],.5,{y:30,opacity:0,ease:Power3.easeOut},.25);function X(){D=window.getComputedStyle(r.visual),T=parseInt(D.width,10),K=parseInt(D.height,10),r.elevation_profile.setAttribute("width",T),r.elevation_profile.setAttribute("height",K)}X(),r.elevation_profile.setAttribute("viewBox","0 0 "+T+" "+K),r.elevation_profile.setAttribute("preserveAspectRatio","none"),window.addEventListener("resize",X);var ee=new DocumentFragment,Ae=W.elevGainChart,he=8,oe=Math.ceil(Ae.length/(T/he)),Y=h(Ae,oe).map(function(O){return Math.max.apply(Math,O)}),fe=Math.round((T-Y.length*he)/2+he/2),q=Math.min.apply(Math,Y),pe=Math.max.apply(Math,Y),M=pe-q,te=K/2,De=1,de=.1,ve=[],U={x:0,y:0},H,ae,j;Y.forEach(function(O,se){ae=se*he+fe,j=(O-q)/M*(te-1)+2,H=document.createElementNS("http://www.w3.org/2000/svg","line"),H.setAttribute("class","elev-line"),H.setAttribute("x1",ae),H.setAttribute("y1",0),H.setAttribute("x2",ae),H.setAttribute("y2",te),j>U.y&&(U.x=ae,U.y=j),ee.appendChild(H),ve.push({elem:H,dur:De,vars1:{y:j*.1-te},vars2:{y:K-j,ease:Power2.easeInOut},start:se*de})}),r.elevation_profile.appendChild(ee);var ie=document.createElementNS("http://www.w3.org/2000/svg","circle"),P=18;ie.setAttribute("cx",U.x),ie.setAttribute("cy",U.y-P/2),ie.setAttribute("r",P/3),ie.setAttribute("stroke-width",P/3),ie.setAttribute("class","dot"),r.elevation_profile.appendChild(ie),ve.forEach(function(O){var se=O.elem,Ye=O.dur,Ee=O.vars1,Re=O.vars2,ye=O.start;v.fromTo(se,Ye,Ee,Re,ye)});var re=Y.length*de+De;v.from(r.elevation_text,re/2,{opacity:0,ease:Power4.easeIn},0),v.to(C,re,{units:G,ease:Power3.easeInOut,onUpdate:Z},0),v.from(r.elevation_units,.1,{opacity:0}),v.from(ie,2,{y:te+P,ease:Back.easeOut}),v.from(r.head,.5,{y:30,opacity:0,ease:Power3.easeOut},re-2),v.staggerFrom([r.subhead,r.date],.5,{y:30,opacity:0,ease:Power3.easeOut},.5)}}};return la(()=>{window.TweenMax&&k.init()}),[k]}class fa extends ta{constructor(h){super(),aa(this,h,ca,va,ia,{})}}export{fa as component};
